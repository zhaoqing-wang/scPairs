% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cross_celltype.R
\name{.compute_cross_celltype}
\alias{.compute_cross_celltype}
\title{Compute cross-cell-type interaction score (unified interface)}
\usage{
.compute_cross_celltype(
  x,
  y = NULL,
  pair_dt = NULL,
  cluster_ids,
  embed,
  n_bins = 50,
  min_cells_per_bin = 5,
  min_bins = 8,
  min_pct_expressed = 0.01
)
}
\arguments{
\item{x}{Expression matrix (genes x cells) for batch mode, or
numeric vector for single-pair mode.}

\item{y}{NULL for batch mode, or numeric vector.}

\item{pair_dt}{data.table with gene1, gene2 columns (batch only).}

\item{cluster_ids}{Factor of cell-type assignments.}

\item{embed}{PCA embedding matrix.}

\item{n_bins}{Integer; number of micro-environment bins.}

\item{min_cells_per_bin}{Integer; minimum cells per type per bin.}

\item{min_bins}{Integer; minimum valid bins per type pair.}

\item{min_pct_expressed}{Numeric; minimum expression \% per cell type.}
}
\value{
Numeric vector of scores (batch) or list with detailed results (single-pair).
}
\description{
Dispatches to batch mode when \code{pair_dt} is provided (matrix in
\code{mat}), or single-pair mode when \code{x} and \code{y} are vectors.
}
\keyword{internal}
