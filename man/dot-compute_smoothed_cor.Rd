% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/neighbourhood.R
\name{.compute_smoothed_cor}
\alias{.compute_smoothed_cor}
\title{Compute KNN-smoothed correlation (unified interface)}
\usage{
.compute_smoothed_cor(
  x,
  y = NULL,
  pair_dt = NULL,
  W,
  alpha = 0.3,
  method = "pearson"
)
}
\arguments{
\item{x}{Expression matrix (genes x cells) for batch mode, or a
1-row matrix / numeric vector for single-pair mode.}

\item{y}{NULL for batch mode, or a 1-row matrix / numeric vector.}

\item{pair_dt}{data.table with gene1, gene2 columns (batch only).}

\item{W}{KNN weight matrix.}

\item{alpha}{Self-weight for smoothing.}

\item{method}{Correlation method.}
}
\value{
Numeric vector (batch) or scalar (single-pair).
}
\description{
Dispatches to batch mode when \code{pair_dt} is provided (matrix in
\code{x}), or single-pair mode when \code{x} and \code{y} are vectors.
}
\keyword{internal}
